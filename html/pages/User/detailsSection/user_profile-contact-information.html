<h1>Contact Details</h1>

<div class="relative-pos pull-right">
	<a class="dropdown-toggle" data-toggle="dropdown" href=""> Add
		<b class="carret"></b>
	</a>

	<ul role="menu" class="dropdown-menu">
		<li><a ng-click = "addField(userProfile.contactInformation,'mobilePhoneNumber')">Mobile phone</a></li>
	    <li><a ng-click = "addField(userProfile.contactInformation,'personalPhoneNumber')">Home phone</a></li>
	    <li><a ng-click = "addField(userProfile.contactInformation, 'officePhoneNumber')">Work phone</a></li>
	    <li><a ng-click = "addField(userProfile.contactInformation,'emailAddress')">Email adress</a></li>
	</ul>
</div>
<div class="clear"></div>

<form class="detailsForm" name = "cardDetails" novalidate ng-submit ="updateContactInformation(userProfile.contactInformation)">
	<div ng-repeat="contactInfo in userProfile.contactInformation">

		
		<div class="icon-placeholder" ng-if = "contactInfo.contactType == 'mobilePhoneNumber'" ng-class = "{'state-displayErrMsg':!validateTel(contactInfo.contactValue,cardDetails.mobileTel.$pristine)}">						 
			<small class="error small-padding">
			    Please provide a valid phone number.
		 	</small>

			<i class="icon-call"></i>
			<input type="tel" placeholder="Mobile phone number" ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)" name= "mobileTel" ng-pattern="/^[-.() \d]+$/">
		</div>
		

		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'personalPhoneNumber'" ng-class = "{'state-displayErrMsg':!validateTel(contactInfo.contactValue, cardDetails.homeTel.$pristine)}">
			<small class="error small-padding">
			    Please provide a valid phone number.
		 	</small>
			<i class="icon-personalphone"></i>
			<input type="tel" placeholder="Home phone number"  ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)" name = "homeTel" ng-pattern="/^[-.() \d]+$/">
		</div>

		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'officePhoneNumber'" ng-class = "{'state-displayErrMsg':!validateTel(contactInfo.contactValue,cardDetails.workTel.$pristine)}">
			<small class="error small-padding" >
			    Please provide a valid phone number.
		 	</small>
			<i class="icon-officephone"></i>	
			<input type="tel" placeholder="Work phone number" ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)"  name = "workTel" ng-pattern="/^[-.() \d]+$/"> 
		</div>

		<div class="icon-placeholder " ng-class = "{'state-displayErrMsg':!validateEmail(contactInfo.contactValue, cardDetails.emailAdr.$pristine)}" ng-if = "contactInfo.contactType == 'emailAddress'" >
			<small class="error small-padding">
			    Please provide a valid email address.
		 	</small>
			<i class="icon-email"></i>
			<input type="email" placeholder="Email address" ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)" name = "emailAdr">
		</div>

		<div class="icon-placeholder firstInput"  ng-if = "contactInfo.contactType == 'skypeName'">
			<i class="icon-skype"></i>
			<input type="text" placeholder="Skype"  ng-model ="contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)">
		</div>
	</div>
	
	<div ng-repeat="contactInfo in userProfile.contactInformation">
		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'street'">
			<i class="icon-address"></i>
			<input type="text" placeholder="Street"  ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)">
		</div>

		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'city'">
			<i class="icon-address"></i>
			<input type="text" placeholder="City"  ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)">
		</div>

		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'postalCode'">
			<i class="icon-address"></i>
			<input type="text" placeholder="Postal code "  ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)">
		</div>

		<div class="icon-placeholder"  ng-if = "contactInfo.contactType == 'state'">
			<i class="icon-address"></i>
			<input type="text" placeholder="State / Province"  ng-model = "contactInfo.contactValue" ng-blur ="updateContactInformation(userProfile.contactInformation)">
		</div>
	</div>	


	<input type="submit" style="visibility:hidden;"> 

</form>
	
